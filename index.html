<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Googcore - CoreDumper using Google API by kspviswa</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Googcore - CoreDumper using Google API</h1>
        <h2>Custom CoreDumps using GoogleCoreDumper | Adding user specific notes in the core</h2>

        <section id="downloads">
          <a href="https://github.com/kspviswa/googCore/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/kspviswa/googCore/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/kspviswa/googCore" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h3>
<a id="googcore" class="anchor" href="#googcore" aria-hidden="true"><span class="octicon octicon-link"></span></a>GoogCore</h3>

<p>GoogleCoreDumper can be used to both read &amp; write coredumps. It also provides facility to add custom notes in the corefile through     SetCoreDumpNotes() api . Surprisingly, these functions aren't explained in the project wiki page. Nevertheless the man pages as part of package was still useful.</p>

<pre><code>SetCoreDumpNotes() 
</code></pre>

<p>sets the attributes in params to add additional notes to core dumps when called with<br>
    GetCoreDumpWith() or  WriteCoreDumpWith()</p>

<p>The notes are specified as an array of the Core‚ÄêdumperNote structure:</p>

<pre><code>struct CoredumperNote {
const char *name; // The vendor name
unsigned int type; // A vendor specific type
unsigned int description_size; // The size of the description field
const void *description; // The note data
};
</code></pre>

<p>The name, including a terminating null character, will be 4 byte aligned. The type is a user chosen value. The description_size specifies the amount of bytes to write from the description pointer in memory to the core dump note. The description will be padded to be 4 byte aligned.</p>

<p>You can dump as many information you want, provided the total corefile size doesn't exceed the ulimit setting of the system.</p>

<p>This project is a baby exercise to leverage GoogleCoreDumper and save the pmap output of the process in core, before it exits.
This followed by tweaking the readelf command to read this special note in stdout.</p>
      </section>
    </div>

    
  </body>
</html>